<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ELVHX PRO Builder</title>
</head>
<body>

  <button id="exit-fs-btn" class="primary" onclick="toggleFullScreen()">EXIT FULL SCREEN</button>

  <div class="sidebar">
    <div class="sidebar-header">
      <span>ELVHX <span style="color:var(--accent)">PRO BUILDER</span></span>
    </div>
    
    <div class="sidebar-tabs">
        <div class="sidebar-tab active" onclick="switchTab('build')">BUILD</div>
        <div class="sidebar-tab" onclick="switchTab('layers')">LAYERS</div>
    </div>
    
    <div class="sidebar-content">
      
      <div id="tab-build" class="panel-section active">
          <div id="global-controls">
              <div class="group">
                <h3>1. Προσθηκη Στοιχείων</h3>
                <button class="special full-width" onclick="addCard()" style="margin-bottom:10px; font-size:14px;">✨ + SMART CARD</button>
                <div class="btn-grid">
                  <button onclick="addEl('h')">+ Τίτλος</button>
                  <button onclick="addEl('p')">+ Κείμενο</button>
                  <button onclick="addEl('btn')">+ Κουμπί</button>
                  <button onclick="addEl('img')">+ Εικόνα</button>
                </div>
              </div>

              <div class="group">
                <h3>2. Ρυθμίσεις Καμβα / Background</h3>
                <div id="mob-bg-alert" class="view-alert">Επεξεργάζεστε το Mobile Background!</div>
                
                <label>Ύψος (Height) px</label>
                <div class="slider-row">
                    <input type="range" id="sl-canvas-h" min="100" max="1500" value="500" oninput="sync('inp-canvas-h', this.value); setCanvasSize('h', this.value)">
                    <input type="number" class="val-input" id="inp-canvas-h" value="500" oninput="sync('sl-canvas-h', this.value); setCanvasSize('h', this.value)">
                </div>

                <label style="color:#4af;">Πλάτος (Max Width) px</label>
                <div class="slider-row">
                    <input type="range" id="sl-canvas-w" min="250" max="1920" value="1200" oninput="sync('inp-canvas-w', this.value); setCanvasSize('w', this.value)">
                    <input type="number" class="val-input" id="inp-canvas-w" value="1200" oninput="sync('sl-canvas-w', this.value); setCanvasSize('w', this.value)">
                </div>

                <label>Φόντο (Ανεξάρτητο για Desktop/Mobile)</label>
                <select id="bg-select" onchange="setCanvasBg()">
                  <option value="bg-white">Clean White</option>
                  <option value="bg-gray">Contrast Gray</option>
                  <option value="bg-blobs">Premium Blobs</option>
                  <option value="bg-orbs">Soft Orbs</option>
                  <option value="bg-dark">Dark Mode</option>
                  <option value="custom">★ Custom Color / Gradient</option>
                  <option value="bg-img">📷 Background Image (URL)</option>
                  <option value="transparent">Διαφανές (Transparent)</option>
                </select>

                <div id="custom-bg-controls" style="display:none; margin-top:10px; background:#111; padding:10px; border-radius:6px;">
                    <label>Color 1</label>
                    <input type="color" id="bg-col-1" value="#ffffff" oninput="setCanvasBg()">
                    <label>Color 2</label>
                    <input type="color" id="bg-col-2" value="#ffffff" oninput="setCanvasBg()">
                </div>

                <div id="bg-img-controls" style="display:none; margin-top:10px; background:#1a1a2e; padding:10px; border-radius:6px; border:1px solid #333;">
                    <label>Image URL</label>
                    <input type="text" id="bg-img-url" placeholder="https://..." oninput="setCanvasBg()">
                    
                    <label style="margin-top:10px; color:#4af;">Zoom (Scale) %</label>
                    <div class="slider-row">
                        <input type="range" id="bg-zoom" min="50" max="300" value="100" oninput="sync('inp-bg-zoom', this.value); setCanvasBg()">
                        <input type="number" class="val-input" id="inp-bg-zoom" value="100" oninput="sync('bg-zoom', this.value); setCanvasBg()">
                    </div>

                    <label style="color:#4af;">Position X / Y</label>
                    <div class="slider-row">
                        <input type="range" id="bg-x" min="0" max="100" value="50" oninput="sync('inp-bg-x', this.value); setCanvasBg()">
                        <input type="number" class="val-input" id="inp-bg-x" value="50" oninput="sync('bg-x', this.value); setCanvasBg()">
                    </div>
                    <div class="slider-row">
                        <input type="range" id="bg-y" min="0" max="100" value="50" oninput="sync('inp-bg-y', this.value); setCanvasBg()">
                        <input type="number" class="val-input" id="inp-bg-y" value="50" oninput="sync('bg-y', this.value); setCanvasBg()">
                    </div>

                    <label style="margin-top:10px; color:#e94560;">Overlay (Αχνάδα)</label>
                    <select id="bg-overlay-color" onchange="setCanvasBg()" style="margin-bottom:5px;">
                        <option value="black">Dark Overlay</option>
                        <option value="white">Light Overlay</option>
                    </select>
                    <div class="slider-row">
                        <span style="font-size:10px; color:#888;">Opacity</span>
                        <input type="range" id="bg-overlay-op" min="0" max="90" value="0" oninput="sync('inp-bg-op', this.value); setCanvasBg()">
                        <input type="number" class="val-input" id="inp-bg-op" value="0" oninput="sync('bg-overlay-op', this.value); setCanvasBg()">
                    </div>
                </div>
                
                <div style="margin-top:20px; display:flex; gap:10px;">
                    <button class="primary full-width" onclick="exportCode()">EXPORT HTML</button>
                    <button class="success full-width" onclick="openImportModal()">IMPORT</button>
                </div>
              </div>
          </div>

          <div id="inspector" style="display:none">
            
            <div id="card-controls" class="group" style="display:none; background:rgba(0, 198, 255, 0.1); border:1px solid #005577; padding:10px; border-radius:6px; margin-bottom:20px;">
                <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                    <h3 style="color:#00c6ff; margin:0;">✨ SMART CARD</h3>
                    <button class="sm" onclick="deselectAll(null)">X</button>
                </div>
                
                <div style="display:flex; gap:5px; margin-bottom:10px;">
                    <button class="sm" onclick="changeOrder('up')" title="Bring Forward">⬆</button>
                    <button class="sm" onclick="changeOrder('down')" title="Send Backward">⬇</button>
                </div>

                <label>Θέση & Πλάτος (%)</label>
                <div class="slider-row">
                    <span style="font-size:10px; width:15px">X</span>
                    <input type="range" id="c-x" min="0" max="100" oninput="sync('inp-c-x', this.value); updateCard('pos')">
                    <input type="number" class="val-input" id="inp-c-x" oninput="sync('c-x', this.value); updateCard('pos')">
                </div>
                <div class="slider-row">
                    <span style="font-size:10px; width:15px">Y</span>
                    <input type="range" id="c-y" min="0" max="100" oninput="sync('inp-c-y', this.value); updateCard('pos')">
                    <input type="number" class="val-input" id="inp-c-y" oninput="sync('c-y', this.value); updateCard('pos')">
                </div>
                <div class="slider-row">
                    <span style="font-size:10px; width:15px">W</span>
                    <input type="range" id="c-w" min="10" max="100" oninput="sync('inp-c-w', this.value); updateCard('pos')">
                    <input type="number" class="val-input" id="inp-c-w" oninput="sync('c-w', this.value); updateCard('pos')">
                </div>

                <label style="margin-top:15px;">Διάταξη (Layout)</label>
                <select id="card-layout" onchange="updateCard('layout')">
                    <option value="layout-top">Κλασικό (Φωτό Πάνω)</option>
                    <option value="layout-side">Λίστα (Φωτό Αριστερά)</option>
                    <option value="layout-overlay">Banner (Κείμενο Μέσα)</option>
                </select>

                <label>Εικόνα (URL)</label>
                <input type="text" id="card-img-url" oninput="updateCard('img-src')">
                
                <label style="margin-top:10px; color:#aaa;">Image Zoom & Position</label>
                <div class="slider-row">
                    <span style="font-size:10px; width:40px;">Zoom</span>
                    <input type="range" id="c-img-zoom" min="100" max="300" value="100" oninput="sync('inp-c-img-zoom', this.value); updateCard('img-settings')">
                    <input type="number" class="val-input" id="inp-c-img-zoom" value="100" oninput="sync('c-img-zoom', this.value); updateCard('img-settings')">
                </div>
                <div class="slider-row">
                    <span style="font-size:10px; width:40px;">Pos X</span>
                    <input type="range" id="c-img-panx" min="0" max="100" value="50" oninput="sync('inp-c-img-px', this.value); updateCard('img-settings')">
                    <input type="number" class="val-input" id="inp-c-img-px" value="50" oninput="sync('c-img-panx', this.value); updateCard('img-settings')">
                </div>
                <div class="slider-row">
                    <span style="font-size:10px; width:40px;">Pos Y</span>
                    <input type="range" id="c-img-pany" min="0" max="100" value="50" oninput="sync('inp-c-img-py', this.value); updateCard('img-settings')">
                    <input type="number" class="val-input" id="inp-c-img-py" value="50" oninput="sync('c-img-pany', this.value); updateCard('img-settings')">
                </div>

                <div style="border-top:1px dashed #555; padding-top:10px; margin-top:10px;">
                    <label>Χρώμα Τίτλου / Κειμένου</label>
                    <div class="slider-row">
                        <span style="font-size:10px;">Title</span>
                        <input type="color" id="col-c-title" oninput="updateCard('colors')" style="width:40px">
                        <span style="font-size:10px; margin-left:10px;">Text</span>
                        <input type="color" id="col-c-text" oninput="updateCard('colors')" style="width:40px">
                    </div>
                </div>

                 <label style="margin-top:15px;">Ύψος Εικόνας (px) / Αχνάδα (%)</label>
                 <div class="slider-row">
                     <span style="font-size:10px; color:#888;">Y px</span>
                     <input type="range" id="sl-card-h" min="100" max="800" oninput="sync('inp-card-h', this.value); updateCard('height')">
                     <input type="number" class="val-input" id="inp-card-h" oninput="sync('sl-card-h', this.value); updateCard('height')">
                </div>
                <div class="slider-row">
                     <span style="font-size:10px; color:#888;">Dim</span>
                     <input type="range" id="card-dim" min="0" max="90" value="0" oninput="sync('inp-card-dim', this.value); updateCard('dim')">
                     <input type="number" class="val-input" id="inp-card-dim" oninput="sync('card-dim', this.value); updateCard('dim')">
                </div>
                
                <button class="special full-width" style="margin-top:15px" onclick="cloneEl()">Διπλασιασμός (Clone)</button>
                <button class="danger full-width" style="margin-top:5px" onclick="deleteEl()">Διαγραφή Κάρτας</button>
            </div>

            <div id="std-controls" class="group" style="background: rgba(0,0,0,0.2); padding: 10px; border-radius: 6px; border:1px solid var(--accent);">
                <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                    <h3 style="color:var(--accent); margin:0;">Επεξεργασια</h3>
                    <button class="sm" onclick="deselectAll(null)">X</button>
                </div>
                
                <div style="display:flex; gap:5px; margin-bottom:10px;">
                    <button class="sm" onclick="changeOrder('up')" title="Bring Forward">⬆</button>
                    <button class="sm" onclick="changeOrder('down')" title="Send Backward">⬇</button>
                </div>
                
                <label id="lbl-content">Κείμενο / URL</label>
                <textarea id="inp-content" oninput="updateEl('content')"></textarea>

                <label>Θέση Χ / Y / Width (%)</label>
                <div class="slider-row">
                    <span style="font-size:10px; width:15px">X</span>
                    <input type="range" id="sl-x" min="0" max="100" oninput="sync('inp-x', this.value); updateEl('layout')">
                    <input type="number" class="val-input" id="inp-x" oninput="sync('sl-x', this.value); updateEl('layout')">
                </div>
                <div class="slider-row">
                    <span style="font-size:10px; width:15px">Y</span>
                    <input type="range" id="sl-y" min="0" max="100" oninput="sync('inp-y', this.value); updateEl('layout')">
                    <input type="number" class="val-input" id="inp-y" oninput="sync('sl-y', this.value); updateEl('layout')">
                </div>
                <div class="slider-row">
                    <span style="font-size:10px; width:15px">W</span>
                    <input type="range" id="sl-w" min="5" max="100" oninput="sync('inp-w', this.value); updateEl('layout')">
                    <input type="number" class="val-input" id="inp-w" oninput="sync('sl-w', this.value); updateEl('layout')">
                </div>

                <div id="grp-font-size">
                    <label>Μέγεθος Γραμματοσειράς (PX)</label>
                    <div class="slider-row">
                        <input type="range" id="sl-s" min="10" max="120" oninput="sync('inp-s', this.value); updateEl('style')">
                        <input type="number" class="val-input" id="inp-s" oninput="sync('sl-s', this.value); updateEl('style')">
                    </div>
                </div>

                <div id="grp-color">
                    <label>Χρώμα Κειμένου</label>
                    <input type="color" id="inp-color" oninput="updateEl('color')">
                </div>

                <div id="img-controls" style="display:none; margin-top:15px; border-top:1px solid #333; padding-top:10px;">
                    <h3 style="color:#aaa;">Εικονα</h3>
                    <label style="color:#4af;">Ύψος Πλαισίου (px)</label>
                    <div class="slider-row">
                        <input type="range" id="sl-img-h" min="50" max="1000" oninput="sync('inp-img-h', this.value); updateEl('img-layout')">
                        <input type="number" class="val-input" id="inp-img-h" oninput="sync('sl-img-h', this.value); updateEl('img-layout')">
                    </div>
                    <label>Zoom (Scale) %</label>
                    <div class="slider-row">
                        <input type="range" id="sl-img-zoom" min="50" max="300" value="100" oninput="sync('inp-img-zoom', this.value); updateEl('img')">
                        <input type="number" class="val-input" id="inp-img-zoom" oninput="sync('sl-img-zoom', this.value); updateEl('img')">
                    </div>
                    <label>Pan X / Y (Position)</label>
                    <div class="slider-row">
                        <input type="range" id="sl-img-panx" min="0" max="100" value="50" oninput="sync('inp-img-px', this.value); updateEl('img')">
                        <input type="number" class="val-input" id="inp-img-px" oninput="sync('sl-img-panx', this.value); updateEl('img')">
                    </div>
                    <div class="slider-row">
                        <input type="range" id="sl-img-pany" min="0" max="100" value="50" oninput="sync('inp-img-py', this.value); updateEl('img')">
                        <input type="number" class="val-input" id="inp-img-py" oninput="sync('sl-img-pany', this.value); updateEl('img')">
                    </div>
                </div>
                
                <button class="special full-width" style="margin-top:15px" onclick="cloneEl()">Διπλασιασμός (Clone)</button>
                <button class="danger full-width" style="margin-top:5px" onclick="deleteEl()">Διαγραφή</button>
            </div>
          </div>
      </div>

      <div id="tab-layers" class="panel-section">
          <h3>Layers (Z-Index)</h3>
          <div id="layers-list" style="margin-top:10px;"></div>
      </div>
    </div>
  </div>

  <div class="main-area">
    <div class="toolbar">
        <div style="display:flex; align-items:center;">
             <div class="mode-btns">
                <button id="btn-desktop" class="active" onclick="setView('desktop')">🖥️ Desktop</button>
                <button id="btn-mobile" onclick="setView('mobile')">📱 Mobile</button>
            </div>
        </div>
        <button class="primary" onclick="toggleFullScreen()">👁 FULL SCREEN</button>
    </div>

    <div class="canvas-wrapper">
      <div id="canvas" class="bg-white" onclick="deselectAll(event)">
      </div>
    </div>
  </div>

  <div id="exportModal" class="modal">
    <div class="modal-box">
      <h3>Έτοιμος Κώδικας</h3>
      <textarea id="exportOutput" readonly></textarea>
      <div style="text-align: right; gap:10px; display:flex; justify-content:flex-end;">
        <button onclick="document.getElementById('exportModal').classList.remove('open')">Κλείσιμο</button>
        <button class="primary" onclick="copyToClip()">Αντιγραφή</button>
      </div>
    </div>
  </div>

  <script type="module" src="/main.js"></script>

  <script>
    window.sync = function(targetId, val) { document.getElementById(targetId).value = val; };
  </script>
</body>
</html>